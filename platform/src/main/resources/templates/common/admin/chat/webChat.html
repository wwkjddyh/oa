<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<div th:fragment="content"  >
    <div class="webchat-main-default" id="webchat-main">
        <div class="webchat-container" id="webchat-container">
            <div class="webchat-container-left">
                <template v-for="(__friend, index) in currUserChat.friends">
                    <div class="webchat-container-left_item item-active-bgcolor" @click="chatFriendItemChangeHandle(index)" v-if="__friend.isCurrent">
                        <div class="webchat-container-left_item-area">
                            <div class="webchat-container-left_item-area-avatar">
                                {{__friend.avatar}}
                            </div>
                            <div class="webchat-container-left_item-area-message">
                                <div class="webchat-container-left_item-area-message-top">
                                    <div class="webchat-container-left_item-area-message-name">{{__friend.userName}}</div>
                                    <div class="webchat-container-left_item-area-message-time">{{__friend.date}}</div>
                                </div>
                                <div class="webchat-container-left_item-area-message-content">{{__friend.msg}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="webchat-container-left_item" @click="chatFriendItemChangeHandle(index)" v-if="!__friend.isCurrent">
                        <div class="webchat-container-left_item-area">
                            <div class="webchat-container-left_item-area-avatar">
                                {{__friend.avatar}}
                            </div>
                            <div class="webchat-container-left_item-area-message">
                                <div class="webchat-container-left_item-area-message-top">
                                    <div class="webchat-container-left_item-area-message-name">{{__friend.userName}}</div>
                                    <div class="webchat-container-left_item-area-message-time">{{__friend.date}}</div>
                                </div>
                                <div class="webchat-container-left_item-area-message-content">{{__friend.msg}}</div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
            <div id="webchat" class="webchat">
                <div class="webchat-right-top">
                    <div class="webchat-right-top-area">
                        <div class="webchat-right-top-area-top">
                            <!--
                            <a href="#" title="最小化" style="margin-left: 20px;">-</a>
                            <a href="#" title="全屏" style="margin-left: 20px;">口</a>
                            -->
                            <a title="close" @click="showWebChatHandle('webchat-main')" style="margin-left: 20px;cursor: pointer;">X</a>
                        </div>
                        <div class="webchat-right-top-area-body">
                            <div class="webchat-right-top-area-body-name">
                                <span id="currentFriendName">{{currUserChat.currChatWindow.currentFriendName}}</span>
                            </div>
                            <div></div>

                        </div>
                    </div>
                </div>
                <div class="webchat-right-messages">
                    <div class="messages" id="messageList">
                        <template v-for="(__msg, index) in currUserChat.currChatWindow.msgList">
                            <div class="message-left" v-if="!__msg.isMe">
                                <div class="message-left-avatar">
                                    <div>{{__msg.senderAvatar}}</div>
                                    <div class="avatar-triangle-left"></div>
                                </div>
                                <div class="message-left-message">
                                    <div class="message-left-message_title"><span>{{__msg.senderName}}</span></div>
                                    <div class="message-left-message_content">
                                        {{__msg.msg}}
                                    </div>
                                </div>
                            </div>
                            <div class="message-right" v-if="__msg.isMe">
                                <div class="message-right-message">
                                    <div class="message-right-message_title"><span>{{__msg.senderName}}</span></div>
                                    <div class="message-right-message_content">{{__msg.msg}}</div>
                                </div>
                                <div class="message-right-avatar">
                                    <div class="avatar-triangle-right"></div>
                                    <div>{{__msg.senderAvatar}}</div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="webchat-right-sendArea-container">
                    <div class="webchat-right-sendArea">
                        <div class="actions">
                            <el-popover size="mini"
                                    placement="top-start"
                                    title=""
                                    width="300"
                                    trigger="click"
                                    content="">
                                <a v-for="(val, key) in chatEmojis" :key="key" style="cursor: pointer;font-size: 14px;margin-right: 2px" @click="chatEmojiChangeHandle(key, val)">{{val.emoji}}</a>
                                <a style="cursor: pointer" slot="reference">😀</a>
                            </el-popover>
                            <a >插入图片</a> <a >上传文件</a>
                        </div>
                        <div class="sendArea">
                            <div id="messageBox" contenteditable="true">
                                🚝🚞🚋🚌🚍🚎🚏🚐🚑🚒🚓🚔🚕🚖🚗🚘🚚🚛🚜🚲⛽🚨🚥🚦🚧⚓⛵🚤🚢✈💺🚁🚟🚠🚡🚀🎑🗿🛂🛃🛄🛅<img src="/images/title.png" style="width: 50px; height: 25x;">
                                {{currUserChat.currChatWindow.currentMessageContent}}
                            </div>
                            <button @click="webChatSendHandle">发送</button>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>
</html>